function Certisign(t){function i(){pki.init({ready:function(){},notInstalled:function(t,i){console.log("Installation NOT ok: "+i),blockUI.stop(),confirm("Click OK to go to installation page"),pki.redirectToInstallPage()},defaultError:function(t,i,e){blockUI.stop(),console.log("Web PKI error originated at "+e+": "+i)}})}function e(i,e){t("#"+e).append(i)}function s(){log("Listing certificates ..."),pki.listCertificates().success(function(i){log("Certificates listed.");var e=t("#certificateSelect");t.each(i,function(){e.append(t("<option />").val(this.thumbprint).text(this.subjectName+" (issued by "+this.issuerName+")"))}),t("#signatureControlsPanel").show(),blockUI.stop()}),t("#certificateSelect").change(function(){t(this).val();pki.listCertificates().success(function(t){for(var i=0;i<t.length;i++){t[i];console.log(null)}})})}this.Certificate,this.ListCertificates,this.Setup,this.Width,this.Height,this.Version,this.SetCertificate=function(t){this.Certificate=t},this.GetCertificate=function(){return this.Certificate},this.SetListCertificates=function(t){this.ListCertificates=t},this.GetListCertificates=function(){return this.ListCertificates},this.show=function(){this.RuntimeMode,this.ContainerName;switch(blockUI=new function(){var i=function(i){t.blockUI(i)};this.start=function(e){i(e?e:"Loading ..."),t.blockUI({message:t("#blockPanel")})},this.message=i,this.stop=function(){t.unblockUI()}},i(),this.Setup){case"1":case"2":console.log(this.Setup);break;case"3":n+='<div id="signatureControlsPanel" style="display: block;">',n+='<select id="certificateSelect" class="form-control Attribute" >',n+='<option value="">Choose a certificate ...</option>',n+="</select>",e(n+="</div>",this.ContainerName),s();break;case"4":case"5":console.log(this.Setup);break;default:console.log("not defined runtime mode")}};var n=""}var pki=new LacunaWebPKI;